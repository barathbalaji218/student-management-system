{% extends "base.html" %}
{% block content %}

<div class="container mt-4">
  <h3 class="mb-4">Student Leave Requests</h3>

  <div class="mb-3">
    <a href="{{ url_for('admin.admin_dashboard') }}"
        class="btn btn-secondary">
        ‚Üê Back to Dashboard
    </a>
  </div>

  {% if leaves %}
  <div class="table-responsive">
    <table class="table table-bordered table-hover align-middle">
      <thead class="table-dark">
        <tr>
          <th>Student</th>
          <th>Reason</th>
          <th>Status</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        {% for leave in leaves %}
        <tr>
          <td>{{ leave.student_name }}</td>
          <td>{{ leave.reason }}</td>
          <td>
            {% if leave.status == 'approved' %}
              <span class="badge bg-success">Approved</span>
            {% elif leave.status == 'rejected' %}
              <span class="badge bg-danger">Rejected</span>
            {% else %}
              <span class="badge bg-warning text-dark">Pending</span>
            {% endif %}
          </td>
          <td>
            <a href="{{ url_for('admin.view_leave', leave_id=leave._id) }}"
               class="btn btn-sm btn-primary">
               View
            </a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  {% else %}
    <div class="alert alert-info">No leave requests available.</div>
  {% endif %}
</div>

{% endblock %}
